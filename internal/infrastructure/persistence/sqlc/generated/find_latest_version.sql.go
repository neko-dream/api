// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.27.0
// source: find_latest_version.sql

package model

import (
	"context"
)

const getLatestPolicyVersion = `-- name: GetLatestPolicyVersion :one
SELECT
    policy_versions.version, policy_versions.created_at, policy_versions.index
FROM
    policy_versions
ORDER BY created_at DESC
LIMIT 1
`

type GetLatestPolicyVersionRow struct {
	PolicyVersion PolicyVersion
}

// GetLatestPolicyVersion
//
//	SELECT
//	    policy_versions.version, policy_versions.created_at, policy_versions.index
//	FROM
//	    policy_versions
//	ORDER BY created_at DESC
//	LIMIT 1
func (q *Queries) GetLatestPolicyVersion(ctx context.Context) (GetLatestPolicyVersionRow, error) {
	row := q.db.QueryRowContext(ctx, getLatestPolicyVersion)
	var i GetLatestPolicyVersionRow
	err := row.Scan(&i.PolicyVersion.Version, &i.PolicyVersion.CreatedAt, &i.PolicyVersion.Index)
	return i, err
}
